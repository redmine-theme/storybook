<div id="main" class="nosidebar">
    <div id="sidebar">
    </div>

    <div id="content">
        <h2><a href="#">レポート</a> »</h2>

        <h3>トラッカー</h3>
        <table class="list issue-report">
            <thead><tr>
                <th></th>
                <th>新規</th>
                <th>進行中</th>
                <th>解決</th>
                <th>フィードバック</th>
                <th>終了</th>
                <th>却下</th>
                <th><strong>未完了</strong></th>
                <th><strong>完了</strong></th>
                <th><strong>合計</strong></th>
            </tr></thead>
            <tbody>
            <tr>
                <td class="name"><a href="#">バグ</a></td>
                <td><a href="#">3</a></td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td><a href="#">3</a></td>
                <td>-</td>
                <td><a href="#">3</a></td>
            </tr>
            <tr>
                <td class="name"><a href="#">機能</a></td>
                <td>-</td>
                <td><a href="#">1</a></td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td><a href="#">1</a></td>
                <td>-</td>
                <td><a href="#">1</a></td>
            </tr>
            <tr>
                <td class="name"><a href="#">サポート</a></td>
                <td><a href="#">35</a></td>
                <td>-</td>
                <td><a href="#">1</a></td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td><a href="#">36</a></td>
                <td>-</td>
                <td><a href="#">36</a></td>
            </tr>
            </tbody>
        </table>
        <div class="issue-report-graph hide-when-print">
            <canvas id="issues_by_tracker"></canvas>
        </div>
        <div class="issue-report-graph hide-when-print">
            <canvas id="issues_by_status"></canvas>
        </div>
        <script>
          //<![CDATA[

          function renderChart(canvas_id, title, chartData){
            var backgroundColors = ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)'];
            var borderColors = ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'];
            for (var i = 0; i < chartData.datasets.length; i++) {
              chartData.datasets[i].backgroundColor = backgroundColors[i % backgroundColors.length];
              chartData.datasets[i].borderColor = borderColors[i % borderColors.length];
              chartData.datasets[i].borderWidth = 1;
            }
            new Chart($(canvas_id), {
              type: 'bar',
              data: chartData,
              options: {
                indexAxis: 'y',
                elements: {
                  bar: {borderWidth: 2}
                },
                responsive: true,
                plugins: {
                  legend: {position: 'right'},
                  title: {
                    display: true,
                    text: title
                  }
                },
                scales: {
                  yAxis: {stacked: true},
                  xAxis: {stacked: true}
                }
              }
            });
          }
          $(document).ready(function(){
            var chartData1 = {
              labels: ["バグ","機能","サポート"],
              datasets: [{"label":"新規","hidden":false,"data":[3,0,35]},{"label":"進行中","hidden":false,"data":[0,1,0]},{"label":"解決","hidden":false,"data":[0,0,1]},{"label":"フィードバック","hidden":false,"data":[0,0,0]},{"label":"終了","hidden":true,"data":[0,0,0]},{"label":"却下","hidden":true,"data":[0,0,0]}]
            };
            var chartData2 = {
              labels: ["新規","進行中","解決","フィードバック","終了","却下"],
              datasets: [{"label":"バグ","data":[3,0,0,0,0,0]},{"label":"機能","data":[0,1,0,0,0,0]},{"label":"サポート","data":[35,0,1,0,0,0]}]
            };
            renderChart("#issues_by_tracker", "トラッカー 別のチケット", chartData1);
            renderChart("#issues_by_status", "ステータス 別のチケット", chartData2);
          });

          //]]>
        </script>
        <br />
        <a href="#">戻る</a>


        <div style="clear:both;"></div>
    </div>
</div>
